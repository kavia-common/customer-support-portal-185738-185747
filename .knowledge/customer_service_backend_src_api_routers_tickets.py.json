{"is_source_file": true, "format": "Python", "description": "Source code for API route handlers related to customer support tickets, implemented using FastAPI. It provides endpoints for creating, listing, retrieving, and updating support tickets, primarily in a public, unauthenticated context.", "external_files": ["src/db/models.py", "src/db/schemas.py", "src/db/session.py"], "external_methods": ["get_db", "Ticket", "TicketCreate", "TicketPublic", "TicketUpdate"], "published": ["router"], "classes": [{"name": "APIRouter", "description": "FastAPI class used to define API route grouping and endpoint configurations"}], "methods": [{"name": "create_ticket(payload: TicketCreate, db: Session = Depends(get_db))", "description": "Handles POST requests to create a new support ticket based on provided TicketCreate schema, returning the created TicketPublic.", "scope": "", "scopeKind": ""}, {"name": "list_tickets( status: Optional[str] = Query(None, description=\"Filter by status\"), db: Session = Depends(get_db), )", "description": "Handles GET requests to list tickets, optionally filtered by status, returning a list of TicketPublic schemas.", "scope": "", "scopeKind": ""}, {"name": "get_ticket(ticket_id: int, db: Session = Depends(get_db))", "description": "Handles GET requests to retrieve a ticket by its ID, returning a TicketPublic schema or 404 if not found.", "scope": "", "scopeKind": ""}, {"name": "update_ticket(ticket_id: int, payload: TicketUpdate, db: Session = Depends(get_db))", "description": "Handles PUT requests to update ticket fields. It updates the ticket with provided data, returns the updated TicketPublic schema, or raises 404 if not found.", "scope": "", "scopeKind": ""}], "calls": ["db.query(Ticket)", "db.query(Ticket).filter(Ticket.id == ticket_id).first()", "db.query(Ticket).filter(Ticket.status == status)", "db.add(ticket)", "db.commit()", "db.refresh(ticket)"], "search-terms": ["FastAPI tickets endpoints", "public support tickets API", "ticket CRUD routes", "api routers_tickets", "support ticket system API"], "state": 2, "file_id": 12, "knowledge_revision": 60, "git_revision": "4411f5d2658459063e1bf3aee01e83bd50a202da", "revision_history": [{"27": ""}, {"35": "4411f5d2658459063e1bf3aee01e83bd50a202da"}, {"60": "4411f5d2658459063e1bf3aee01e83bd50a202da"}], "ctags": [{"_type": "tag", "name": "create_ticket", "path": "/home/kavia/workspace/code-generation/customer-support-portal-185738-185747/customer_service_backend/src/api/routers_tickets.py", "pattern": "/^def create_ticket(payload: TicketCreate, db: Session = Depends(get_db)):$/", "language": "Python", "kind": "function", "signature": "(payload: TicketCreate, db: Session = Depends(get_db))"}, {"_type": "tag", "name": "get_ticket", "path": "/home/kavia/workspace/code-generation/customer-support-portal-185738-185747/customer_service_backend/src/api/routers_tickets.py", "pattern": "/^def get_ticket(ticket_id: int, db: Session = Depends(get_db)):$/", "language": "Python", "kind": "function", "signature": "(ticket_id: int, db: Session = Depends(get_db))"}, {"_type": "tag", "name": "list_tickets", "path": "/home/kavia/workspace/code-generation/customer-support-portal-185738-185747/customer_service_backend/src/api/routers_tickets.py", "pattern": "/^def list_tickets($/", "language": "Python", "kind": "function", "signature": "( status: Optional[str] = Query(None, description=\"Filter by status\"), db: Session = Depends(get_db), )"}, {"_type": "tag", "name": "router", "path": "/home/kavia/workspace/code-generation/customer-support-portal-185738-185747/customer_service_backend/src/api/routers_tickets.py", "pattern": "/^router = APIRouter(prefix=\"\\/tickets\", tags=[\"tickets\"])$/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "update_ticket", "path": "/home/kavia/workspace/code-generation/customer-support-portal-185738-185747/customer_service_backend/src/api/routers_tickets.py", "pattern": "/^def update_ticket(ticket_id: int, payload: TicketUpdate, db: Session = Depends(get_db)):$/", "language": "Python", "kind": "function", "signature": "(ticket_id: int, payload: TicketUpdate, db: Session = Depends(get_db))"}], "hash": "f2fca1cc3021bb9aacc8497b50699fc6", "format-version": 4, "code-base-name": "customer_service_backend", "filename": "customer_service_backend/src/api/routers_tickets.py", "fields": [{"name": "router = APIRouter(prefix=\"\\/tickets\", tags=[\"tickets\"])", "scope": "", "scopeKind": "", "description": "unavailable"}]}