{"is_source_file": true, "format": "Python", "description": "Test cases for user-related endpoints in a FastAPI application, covering access control, user retrieval, and updates.", "external_files": ["fastapi.testclient"], "external_methods": ["TestClient"], "published": [], "classes": [], "methods": [{"name": "test_list_users_requires_agent(client: TestClient, auth_headers_customer)", "description": "Tests that a customer must have agent privileges to list users.", "scope": "", "scopeKind": ""}, {"name": "test_list_users_as_agent(client: TestClient, auth_headers_agent)", "description": "Tests that an agent can successfully list users.", "scope": "", "scopeKind": ""}, {"name": "test_get_user_self_and_forbidden_other(client: TestClient)", "description": "Tests that users can view their own profiles but are forbidden from viewing others.", "scope": "", "scopeKind": ""}, {"name": "test_update_user_self(client: TestClient)", "description": "Tests that a user can update their own information.", "scope": "", "scopeKind": ""}, {"name": "test_agent_can_update_other_user(client: TestClient, auth_headers_agent)", "description": "Tests that an agent can update another user's information.", "scope": "", "scopeKind": ""}], "calls": ["client.get", "client.post", "client.put", "r.status_code", "r.json()"], "search-terms": ["test_users.py", "FastAPI", "TestClient", "user endpoints", "access control", "user profile", "update user"], "state": 2, "file_id": 18, "knowledge_revision": 46, "git_revision": "", "ctags": [{"_type": "tag", "name": "test_agent_can_update_other_user", "path": "/home/kavia/workspace/code-generation/customer-support-portal-185738-185747/customer_service_backend/src/tests/test_users.py", "pattern": "/^def test_agent_can_update_other_user(client: TestClient, auth_headers_agent):$/", "language": "Python", "kind": "function", "signature": "(client: TestClient, auth_headers_agent)"}, {"_type": "tag", "name": "test_get_user_self_and_forbidden_other", "path": "/home/kavia/workspace/code-generation/customer-support-portal-185738-185747/customer_service_backend/src/tests/test_users.py", "pattern": "/^def test_get_user_self_and_forbidden_other(client: TestClient):$/", "language": "Python", "kind": "function", "signature": "(client: TestClient)"}, {"_type": "tag", "name": "test_list_users_as_agent", "path": "/home/kavia/workspace/code-generation/customer-support-portal-185738-185747/customer_service_backend/src/tests/test_users.py", "pattern": "/^def test_list_users_as_agent(client: TestClient, auth_headers_agent):$/", "language": "Python", "kind": "function", "signature": "(client: TestClient, auth_headers_agent)"}, {"_type": "tag", "name": "test_list_users_requires_agent", "path": "/home/kavia/workspace/code-generation/customer-support-portal-185738-185747/customer_service_backend/src/tests/test_users.py", "pattern": "/^def test_list_users_requires_agent(client: TestClient, auth_headers_customer):$/", "language": "Python", "kind": "function", "signature": "(client: TestClient, auth_headers_customer)"}, {"_type": "tag", "name": "test_update_user_self", "path": "/home/kavia/workspace/code-generation/customer-support-portal-185738-185747/customer_service_backend/src/tests/test_users.py", "pattern": "/^def test_update_user_self(client: TestClient):$/", "language": "Python", "kind": "function", "signature": "(client: TestClient)"}], "hash": "01a9e4807da1a5e81558ec7a8c0ca554", "format-version": 4, "code-base-name": "customer_service_backend", "filename": "customer_service_backend/src/tests/test_users.py", "revision_history": [{"46": ""}]}